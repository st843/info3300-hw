<html>
    <head>
        <meta charset="UTF-8">
        <title>INFO 3300 Project 1</title>

        <script src="https://d3js.org/d3.v7.min.js"></script>

    </head>

    <body>
        <div id='lunch-score'>
            <svg id='svg1' height='400' width='400'>
            </svg>
        </div>

        <script>
            const svg = d3.select('svg#svg1');
            const width = svg.attr('width');
            const height = svg.attr('height');
            const margins = {top: 5, right: 5, bottom: 0, left: 0};
            const chartWidth = width - margins.right;
            const chartHeight = height - margins.top;
            const chartArea = svg.append('g')
                          .attr('transform', `translate(${margins.left}, ${margins.top})`);

        
            d3.csv('../Student Performance new.csv').then( (data) => {
                //scales
                const scoreExtent = d3.extent(data, d => d['total']);
                const scoreScale = d3.scaleLinear().domain(scoreExtent).range([ chartHeight, 0]);
                const educScale = d3.scalePoint()
                    
                let leftAxis = d3.axisLeft(scoreScale);
                console.log(leftAxis);
                svg.append('g')
                    .attr('class', 'y axis')
                    .attr('transform',`translate(${margins.left+10},${margins.top})`) 
                    .call(leftAxis);
                
                let bottomAxis = d3.axisBottom()

                data.forEach( (d,i) => {
                    d['total'] = parseFloat(d['math percentage']) + parseFloat(d['reading score percentage']) + parseFloat(d['writing score percentage']);

                    

                });
                
            });
        </script>

    </body>
</html>